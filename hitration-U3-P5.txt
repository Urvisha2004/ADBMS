Shared pool hit ratio:-
-----------------------
SharedÂ PoolÂ HitÂ Ratio=(1âˆ’TotalÂ ParsesSessionÂ CursorÂ CacheÂ MissesÂ +Â HardÂ Parsesâ€‹)Ã—100
Pins = number of times an object (SQL/PLSQL) was executed.
PinHits = number of times Oracle found it already in cache.

SELECT name, value
FROM v$librarycache
WHERE name IN ('Pins', 'Reloads');  -- optional if you want clarity



SELECT 
    ROUND(
        (SUM(pinhits) / NULLIF(SUM(pins), 0)) * 100, 
        2
    ) AS library_cache_hit_ratio
FROM 
    v$librarycache
WHERE 
    pins > 0;


_______________


redo log buffer:-
redo entries â†’ total redo records generated.
redo buffer allocation retries â†’ how many times Oracle had to wait for space in redo buffer.
------------
RedoÂ LogÂ BufferÂ HitÂ Ratio=(1âˆ’RedoÂ EntriesRedoÂ BufferÂ AllocationÂ Retries)Ã—100

(a) Using redo log space requests vs redo entries

SELECT
    (1 - (r.value / e.value)) * 100 AS redo_log_hit_ratio
FROM 
    v$sysstat r, 
    v$sysstat e
WHERE  
    r.name = 'redo log space requests'
AND    
    e.name = 'redo entries';
--------------
(b) Using redo wastage vs redo entries

SELECT 
    ROUND(
        (1 - (r.value / NULLIF(e.value, 0))) * 100, 
        2
    ) AS redo_log_hit_ratio
FROM 
    v$sysstat r, 
    v$sysstat e
WHERE 
    r.name = 'redo buffer allocation retries'
    AND e.name = 'redo entries';
--------------------

(c) Using redo buffer allocation retries vs redo entries
SELECT 
    ROUND(
        (1 - (r.value / NULLIF(e.value, 0))) * 100, 
        2
    ) AS redo_log_hit_ratio
FROM 
    v$sysstat r, 
    v$sysstat e
WHERE 
    r.name = 'redo buffer allocation retries'
    AND e.name = 'redo entries';
_________________________
ðŸ”¹ Example (Imagine Numbers)

Shared Pool:

Pins = 1000

Reloads = 50

Hit Ratio = 1 - (50 / 1000) = 0.95 â†’ 95% âœ… Good

Redo Log:

Redo entries = 200000

Retries = 500

Hit Ratio = (1 - (500 / 200000)) Ã— 100 = 99.75% âœ… Excellent
_______________________________________________________________________________________________________________________________
1.shared pool (library cache ) hitratio
	

NAME                                 TYPE        VALUE
------------------------------------ ----------- ------------------------------
shared_pool_size                     big integer 320M
SQL> ALTER SYSTEM SET SHARED_POOL_SIZE = 332M SCOPE=BOTH;

System altered.

SQL> SHOW PARAMETER SHARED_POOL_SIZE;

NAME                                 TYPE        VALUE
------------------------------------ ----------- ------------------------------
shared_pool_size                     big integer 352M
SQL>

-------------------------------------------------------------------------------------------
2.redo log buffer hit ratio:-
Redo Log Hit Ratio is the percentage of redo log requests that are satisfied from the redo log buffer without waiting for disk writes.
Redo is generated for every INSERT, UPDATE, DELETE
RedoÂ LogÂ AllocationÂ HitÂ Ratio=(1âˆ’RedoÂ EntriesRedoÂ LogÂ SpaceÂ Requestsâ€‹)Ã—100
Redo Log Allocation Hit Ratio = (1 - (Redo Log Space Requests / Redo Entries)) * 100

Redo Log Space Requests â†’ number of times a user process had to wait because redo log buffer was full.

Redo Entries â†’ total number of redo entries generated.

SELECT 
    ROUND((1 - (a.value / b.value)) * 100, 2) AS "Redo Log Buffer Hit Ratio (%)"
FROM V$SYSSTAT a, V$SYSSTAT b
WHERE a.name = 'redo log space requests'
  AND b.name = 'redo entries';

SQL> SHOW PARAMETER log_buffer;

NAME                                 TYPE        VALUE
------------------------------------ ----------- ------------------------------
log_buffer                           big integer 19536K

ALTER SYSTEM SET LOG_BUFFER = 64M SCOPE=SPFILE;

INSERT /*+ APPEND */ INTO big_table NOLOGGING
SELECT * FROM source_table;

_______
_______

after both check :-
SELECT ROUND((SUM(PINS - RELOADS)/SUM(PINS))*100,2) AS "Library Cache Hit Ratio"
FROM V$LIBRARYCACHE;

SELECT ROUND((1-(a.value/b.value))*100,2) AS "Redo Log Buffer Hit Ratio"
FROM V$SYSSTAT a, V$SYSSTAT b
WHERE a.name='redo log space requests'
AND b.name='redo entries';


