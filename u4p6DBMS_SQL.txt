OPEN_CURSOR	Opens a cursor and returns cursor id
PARSE	Parses a SQL statement
BIND_VARIABLE	Binds values to placeholders
EXECUTE	Executes the parsed cursor
FETCH_ROWS	Fetches rows from cursor
COLUMN_VALUE	Retrieves column value for each row
CLOSE_CURSOR	Closes the cursor

create table course (
    cid number PRIMARY KEY,
    cname varchar2(50),
    duration number
)
tablespace stud
storage(initial 1k
	next 3k
	minextents 1
	maxextents 5
);
_________________________________
set serveroutput on;

declare
    v_cursor   integer;
    v_rows     integer;

    v_sql_insert  varchar2(200);
    v_sql_select  varchar2(200);

    v_cid      number;
    v_cname    varchar2(50);
    v_duration number;

BEGIN
    v_sql_insert := 'insert into course (cid, cname, duration)
                     values (101, ''adbms'', 30)';

    v_cursor := DBMS_SQL.OPEN_CURSOR;
    DBMS_SQL.PARSE(v_cursor, v_sql_insert, DBMS_SQL.NATIVE);
    v_rows := DBMS_SQL.EXECUTE(v_cursor);
    DBMS_SQL.CLOSE_CURSOR(v_cursor);

    DBMS_OUTPUT.PUT_LINE('Insert Successful. Rows inserted = ' || v_rows);

    -- SELECT using DBMS_SQL


    v_sql_select := 'select cid, cname, duration 
                     from course where cid = 101';

    v_cursor := DBMS_SQL.OPEN_CURSOR;
    DBMS_SQL.PARSE(v_cursor, v_sql_select, DBMS_SQL.NATIVE);

  -- define
    DBMS_SQL.DEFINE_COLUMN(v_cursor, 1, v_cid);
    DBMS_SQL.DEFINE_COLUMN(v_cursor, 2, v_cname, 50);
    DBMS_SQL.DEFINE_COLUMN(v_cursor, 3, v_duration);

   -- execute
   v_rows := DBMS_SQL.EXECUTE(v_cursor);

    IF DBMS_SQL.FETCH_ROWS(v_cursor) > 0 THEN
        DBMS_SQL.COLUMN_VALUE(v_cursor, 1, v_cid);
        DBMS_SQL.COLUMN_VALUE(v_cursor, 2, v_cname);
        DBMS_SQL.COLUMN_VALUE(v_cursor, 3, v_duration);

        DBMS_OUTPUT.PUT_LINE('--- Selected Course ---');
        DBMS_OUTPUT.PUT_LINE('CID      : ' || v_cid);
        DBMS_OUTPUT.PUT_LINE('CName    : ' || v_cname);
        DBMS_OUTPUT.PUT_LINE('Duration : ' || v_duration);
    END IF;

    DBMS_SQL.CLOSE_CURSOR(v_cursor);

END;
/
